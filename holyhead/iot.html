<!DOCTYPE html>
<html>
    <head>
        <title>Holyhead Road</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
        crossorigin=""></script>
        <script src="map.js" ></script>
    </head>
    <body>
        <p>Map of the Holyhead Road walk</p>
        <img src="data/holyheadmap.png" style="width: 600px; height: 400px;"/>
        <p>Map of the Holyhead Road IoT with WiFi<br />
            The blue circles are WiFi points and green circles are the Bluetooth Low Energy connections.</p>
        <div id="map" style="width: 600px; height: 400px;"></div>
        <script>
            createMap("map", 52.4110, -1.5229, 16);
            fetch("data/ble.json")
            .then(res => res.json())
            .then(out => setCircleColours(out) )
            .catch(err => { throw err });
        </script>
        <p>A simple sonification of the above data.<br />
            The sonification is set to 600BPM to reduce the playing time to under 3 minutes. The tones are set to play
            roughly when they appear in the data. 
            The higher tones are the devices appearing through Bluetooth Low Energy scanning (or green in the map). The WiFi is the lower tone (or blue).<br />
            The duration is linked to the signal strength as registered by decibels so the tones may overlap.
        </p>
            <audio controls>
            <source src="data/HolyHeadBLE.wav" > </source>
        </audio>
        <p>Map of the relationships in the Holyhead Road walk</p>
        <img src="img/holyhead_cav.jpg" style="width: 600px; height: 400px;"/>
    </body>
</html>